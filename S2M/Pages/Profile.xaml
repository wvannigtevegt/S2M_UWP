<Page
    x:Class="S2M.Pages.Profile"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:local="using:S2M.Pages"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
	Loaded="Page_Loaded"
    mc:Ignorable="d">

	<Page.Resources>
		<DataTemplate x:Key="TagItemTemplate">
			<Grid Background="Lime">
				<TextBlock Text="{Binding}" Margin="20,0,20,0" HorizontalAlignment="Center" VerticalAlignment="Center" Foreground="White" />
			</Grid>
		</DataTemplate>
	</Page.Resources>

	<Grid Background="{ThemeResource ApplicationPageBackgroundThemeBrush}">
		<Grid.ColumnDefinitions>
			<ColumnDefinition Width="*" />
		</Grid.ColumnDefinitions>

		<Grid.RowDefinitions>
			<RowDefinition Height="*" />
		</Grid.RowDefinitions>
		
		<ScrollViewer HorizontalScrollBarVisibility="Auto" HorizontalScrollMode="Auto" VerticalScrollBarVisibility="Auto" VerticalScrollMode="Auto">
			<Grid>
				<Grid.ColumnDefinitions>
					<ColumnDefinition Width="*" />
					<ColumnDefinition Width="*"/>
					<ColumnDefinition Width="*" />
				</Grid.ColumnDefinitions>

				<Grid.RowDefinitions>
					<RowDefinition Height="Auto" />
					<RowDefinition Height="Auto" />
					<RowDefinition Height="Auto" />
				</Grid.RowDefinitions>

				<StackPanel x:Name="ProfileImageStackPanel" HorizontalAlignment="Center" Margin="20,0,0,0">
					<Ellipse x:Name="ProfileImageEllipse" Width="125" Height="125" VerticalAlignment="Top" >
						<Ellipse.Fill>
							<ImageBrush Stretch="Fill">
								<ImageBrush.ImageSource>
									<BitmapImage x:Name="ProfileImageBrush" DecodePixelHeight="125" DecodePixelWidth="125" />
								</ImageBrush.ImageSource>
							</ImageBrush>
						</Ellipse.Fill>
					</Ellipse>
				</StackPanel>

				<StackPanel x:Name="ProfileDataStackPanel" Margin="20,0,0,0" MinWidth="200" HorizontalAlignment="Left" Background="Red">
					<TextBox x:Name="textBoxProfileFirstName" Header="First name" HorizontalAlignment="Stretch" Width="200" />
					<TextBox x:Name="textBoxProfileLastName" Header="Last name" HorizontalAlignment="Stretch" Width="200" Margin="0,20,0,0" />

					<TextBox x:Name="textBoxProfileAddress" Header="Address" HorizontalAlignment="Stretch" Width="200" Margin="0,20,0,0" />
					<TextBox x:Name="textBoxProfilePostalcode" Header="Postalcode" HorizontalAlignment="Stretch" Width="200" Margin="0,20,0,0" />
					<TextBox x:Name="textBoxProfileCity" Header="City" HorizontalAlignment="Stretch" Width="200" Margin="0,20,0,0" />
				</StackPanel>

				<ListView x:Name="LstTags"
						  Margin="20,0,0,0"
						  IsItemClickEnabled="True" 
						  ItemClick="LstTags_ItemClick"
						  ItemTemplate="{StaticResource TagItemTemplate}">
				</ListView>
			</Grid>
		</ScrollViewer>

		<VisualStateManager.VisualStateGroups>
			<VisualStateGroup x:Name="VisualStateGroup">
				<VisualState x:Name="VisualStatePhone">
					<VisualState.StateTriggers>
						<AdaptiveTrigger MinWindowWidth="0"/>
					</VisualState.StateTriggers>
					<VisualState.Setters>
						<Setter Target="ProfileImageStackPanel.(Grid.RowSpan)" Value="1" />
						<Setter Target="ProfileImageStackPanel.(Grid.ColumnSpan)" Value="3" />
						<Setter Target="ProfileImageStackPanel.(Grid.Row)" Value="0" />
						<Setter Target="ProfileImageStackPanel.(Grid.Column)" Value="0" />
						<Setter Target="ProfileImageStackPanel.Background" Value="#FF00BAFF" />

						<Setter Target="ProfileDataStackPanel.(Grid.RowSpan)" Value="1" />
						<Setter Target="ProfileDataStackPanel.(Grid.ColumnSpan)" Value="3" />
						<Setter Target="ProfileDataStackPanel.(Grid.Row)" Value="1" />
						<Setter Target="ProfileDataStackPanel.(Grid.Column)" Value="0" />

						<Setter Target="LstTags.(Grid.RowSpan)" Value="1" />
						<Setter Target="LstTags.(Grid.ColumnSpan)" Value="3" />
						<Setter Target="LstTags.(Grid.Row)" Value="2" />
						<Setter Target="LstTags.(Grid.Column)" Value="0" />
					</VisualState.Setters>
				</VisualState>

				<VisualState x:Name="VisualStateDesktop">
					<VisualState.StateTriggers>
						<AdaptiveTrigger MinWindowWidth="600"/>
					</VisualState.StateTriggers>
					<VisualState.Setters>
						<Setter Target="ProfileImageStackPanel.(Grid.RowSpan)" Value="3" />
						<Setter Target="ProfileImageStackPanel.(Grid.ColumnSpan)" Value="1" />
						<Setter Target="ProfileImageStackPanel.(Grid.Row)" Value="0" />
						<Setter Target="ProfileImageStackPanel.(Grid.Column)" Value="0" />

						<Setter Target="ProfileDataStackPanel.(Grid.RowSpan)" Value="3" />
						<Setter Target="ProfileDataStackPanel.(Grid.ColumnSpan)" Value="1" />
						<Setter Target="ProfileDataStackPanel.(Grid.Row)" Value="0" />
						<Setter Target="ProfileDataStackPanel.(Grid.Column)" Value="1" />

						<Setter Target="LstTags.(Grid.RowSpan)" Value="3" />
						<Setter Target="LstTags.(Grid.ColumnSpan)" Value="1" />
						<Setter Target="LstTags.(Grid.Row)" Value="0" />
						<Setter Target="LstTags.(Grid.Column)" Value="2" />
					</VisualState.Setters>
				</VisualState>
			</VisualStateGroup>
		</VisualStateManager.VisualStateGroups>
	</Grid>

	<Page.BottomAppBar>
		<CommandBar IsOpen="True" IsSticky="True">
			<AppBarButton Name="SaveAppBarButton" Icon="Save" Label="Save" HorizontalAlignment="Right" Click="SaveAppBarButton_Click"></AppBarButton>
		</CommandBar>
	</Page.BottomAppBar>
</Page>
